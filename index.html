<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üê∏ –õ—è–≥—É—à–∫–∞ –ª–æ–≤–∏—Ç –º—É—Ö</title>
    <style>
        /* –û–°–ù–û–í–ù–´–ï –°–¢–ò–õ–ò */
        * {
            margin: 0;
            padding: 0;
        }
        
        body {
            background: #2e7d32;
            color: white;
            font-family: Arial, sans-serif;
            text-align: center;
            padding: 10px;
            min-height: 100vh;
        }
        
        h1 {
            color: yellow;
            margin: 10px 0;
            font-size: 22px;
        }
        
        .stats {
            background: #1b5e20;
            padding: 10px;
            border-radius: 10px;
            margin: 10px auto;
            width: 95%;
            display: flex;
            justify-content: space-around;
            font-weight: bold;
        }
        
        .score {
            color: yellow;
            font-size: 20px;
        }
        
        /* –ò–ì–†–û–í–û–ï –ü–û–õ–ï */
        .game-area {
            background: #4caf50;
            border: 5px solid #1b5e20;
            border-radius: 15px;
            height: 60vh;
            max-height: 400px;
            position: relative;
            margin: 10px auto;
            overflow: hidden;
        }
        
        /* –õ–Ø–ì–£–®–ö–ê */
        #frog {
            position: absolute;
            bottom: 20px;
            left: 50%;
            margin-left: -70px;
            width: 140px;
            height: 100px;
            cursor: pointer;
            z-index: 100;
        }
        
        .frog-body {
            width: 140px;
            height: 100px;
            background: #4caf50;
            border-radius: 70px 70px 60px 60px;
            border: 4px solid #2e7d32;
            position: relative;
        }
        
        /* –ì–ª–∞–∑–∞ */
        #eye-left, #eye-right {
            position: absolute;
            top: 15px;
            width: 30px;
            height: 30px;
            background: white;
            border: 3px solid black;
            border-radius: 15px;
        }
        
        #eye-left { left: 25px; }
        #eye-right { right: 25px; }
        
        /* –ó—Ä–∞—á–∫–∏ */
        #pupil-left, #pupil-right {
            width: 15px;
            height: 15px;
            background: black;
            border-radius: 8px;
            margin: 6px auto 0;
        }
        
        /* –†–æ—Ç */
        #mouth {
            position: absolute;
            bottom: 25px;
            left: 50px;
            width: 40px;
            height: 15px;
            background: #333;
            border-radius: 0 0 20px 20px;
        }
        
        /* –Ø–ó–´–ö - –°–î–ï–õ–ê–ï–ú –î–õ–ò–ù–ù–ï–ï –ò –° –≠–§–§–ï–ö–¢–û–ú */
        #tongue {
            position: absolute;
            bottom: 20px;
            left: 67px;
            width: 8px; /* –ù–µ–º–Ω–æ–≥–æ —à–∏—Ä–µ */
            height: 0;
            background: linear-gradient(to top, #ff4444, #ff8888); /* –ì—Ä–∞–¥–∏–µ–Ω—Ç */
            border-radius: 4px;
            transform-origin: bottom center;
            transition: height 0.2s ease-out;
            box-shadow: 0 0 5px rgba(255, 0, 0, 0.5);
            z-index: 90;
        }
        
        /* –ö–æ–Ω—á–∏–∫ —è–∑—ã–∫–∞ */
        .tongue-tip {
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 16px;
            height: 16px;
            background: #ff4444;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
            border-radius: 0 0 8px 8px;
        }
        
        /* –õ–∏—Å—Ç */
        .leaf {
            position: absolute;
            bottom: 0;
            left: 50%;
            margin-left: -90px;
            width: 180px;
            height: 60px;
            background: #7cb342;
            border-radius: 90px 90px 0 0;
            z-index: 50;
        }
        
        /* –ú–£–®–ö–ò –° –ê–ù–ò–ú–ê–¶–ò–ï–ô –ü–û–ï–î–ê–ù–ò–Ø */
        .fly {
            position: absolute;
            width: 20px;
            height: 20px;
            background: black;
            border-radius: 10px;
            z-index: 80;
            transition: transform 0.5s, opacity 0.5s;
        }
        
        /* –ö—Ä—ã–ª—å—è –º—É—à–µ–∫ */
        .fly::before, .fly::after {
            content: '';
            position: absolute;
            width: 25px;
            height: 8px;
            background: rgba(0,0,0,0.3);
            border-radius: 4px;
            top: 5px;
        }
        
        .fly::before {
            left: -15px;
            transform: rotate(-30deg);
        }
        
        .fly::after {
            right: -15px;
            transform: rotate(30deg);
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ–µ–¥–∞–Ω–∏—è */
        .fly.eaten {
            animation: eatAnimation 0.6s forwards;
        }
        
        @keyframes eatAnimation {
            0% {
                transform: translate(0, 0) scale(1);
                opacity: 1;
            }
            50% {
                transform: translate(0, -20px) scale(0.5);
                opacity: 0.7;
            }
            100% {
                transform: translate(0, -40px) scale(0);
                opacity: 0;
            }
        }
        
        /* –≠–§–§–ï–ö–¢ –ü–û–ü–ê–î–ê–ù–ò–Ø */
        .hit-effect {
            position: absolute;
            width: 40px;
            height: 40px;
            background: radial-gradient(circle, rgba(255, 255, 0, 0.8) 0%, transparent 70%);
            border-radius: 50%;
            pointer-events: none;
            z-index: 95;
            animation: ripple 0.6s forwards;
        }
        
        @keyframes ripple {
            0% {
                transform: scale(0.5);
                opacity: 1;
            }
            100% {
                transform: scale(3);
                opacity: 0;
            }
        }
        
        /* –í–°–ü–õ–´–í–ê–Æ–©–ò–ï –°–û–û–ë–©–ï–ù–ò–Ø */
        .message {
            position: absolute;
            color: yellow;
            font-weight: bold;
            font-size: 18px;
            text-shadow: 2px 2px 0 #000;
            z-index: 200;
            animation: floatUp 1.2s forwards;
            pointer-events: none;
        }
        
        @keyframes floatUp {
            0% {
                transform: translateY(0) scale(0.8);
                opacity: 1;
            }
            100% {
                transform: translateY(-60px) scale(1.2);
                opacity: 0;
            }
        }
        
        /* –ö–ù–û–ü–ö–ò */
        .controls {
            background: #1b5e20;
            padding: 10px;
            border-radius: 10px;
            margin: 10px auto;
            width: 95%;
        }
        
        button {
            background: #ff9800;
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: 16px;
            border-radius: 20px;
            margin: 5px;
            cursor: pointer;
            font-weight: bold;
            min-width: 120px;
            transition: all 0.2s;
        }
        
        button:hover {
            background: #ff5722;
            transform: translateY(-2px);
        }
        
        button:active {
            transform: translateY(1px);
        }
        
        button:disabled {
            background: #795548;
            cursor: not-allowed;
            transform: none !important;
        }
        
        /* –ü–†–ò–í–ï–¢–°–¢–í–ò–ï –ü–†–ò –ó–ê–ü–£–°–ö–ï */
        .welcome-message {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            animation: fadeOut 2s 2s forwards;
        }
        
        .welcome-text {
            font-size: 28px;
            color: #4caf50;
            text-align: center;
            margin-bottom: 20px;
            text-shadow: 0 0 10px #4caf50;
            animation: pulse 1s infinite alternate;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            100% { transform: scale(1.1); }
        }
        
        @keyframes fadeOut {
            0% { opacity: 1; }
            100% { opacity: 0; visibility: hidden; }
        }
        
        /* –ê–î–ê–ü–¢–ò–í–ù–û–°–¢–¨ */
        @media (max-width: 600px) {
            .game-area {
                height: 50vh;
            }
            
            button {
                padding: 8px 16px;
                font-size: 14px;
                min-width: 100px;
            }
        }
    </style>
</head>
<body>
    <!-- –ü–†–ò–í–ï–¢–°–¢–í–ï–ù–ù–û–ï –°–û–û–ë–©–ï–ù–ò–ï -->
    <div class="welcome-message" id="welcomeMessage">
        <div class="welcome-text">üê∏ –ö–í–ê-–ö–í–ê! üê∏</div>
        <div style="color: white; font-size: 18px; text-align: center;">
            –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –∏–≥—Ä—É!<br>
            –õ–æ–≤–∏ –º—É—à–µ–∫, –Ω–∞–∂–∏–º–∞—è –Ω–∞ –ª—è–≥—É—à–∫—É!
        </div>
    </div>
    
    <h1>üê∏ –õ—è–≥—É—à–∫–∞-–ú—É—Ö–æ–ª–æ–≤ ü¶ü</h1>
    
    <div class="stats">
        <div>–ü–æ–π–º–∞–Ω–æ: <span class="score" id="score">0</span></div>
        <div>–†–µ–∫–æ—Ä–¥: <span class="score" id="record">0</span></div>
        <div>–ú—É—à–∫–∏: <span class="score" id="flyCount">0</span></div>
    </div>
    
    <div class="game-area" id="gameArea">
        <div class="leaf"></div>
        
        <!-- –õ–Ø–ì–£–®–ö–ê –° –£–õ–£–ß–®–ï–ù–ù–´–ú –Ø–ó–´–ö–û–ú -->
        <div id="frog">
            <div class="frog-body">
                <div id="eye-left"><div id="pupil-left"></div></div>
                <div id="eye-right"><div id="pupil-right"></div></div>
                <div id="mouth"></div>
                <div id="tongue">
                    <div class="tongue-tip"></div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="controls">
        <button id="startBtn">‚ñ∂Ô∏è –ù–ê–ß–ê–¢–¨</button>
        <button id="addBtn">ü¶ü +3</button>
        <button id="resetBtn">üîÑ –°–ë–†–û–°</button>
        <button id="soundBtn">üîä –í–∫–ª –∑–≤—É–∫</button>
        <p style="margin-top: 10px; color: #c8e6c9; font-size: 14px;">
            –ù–∞–∂–º–∏ –Ω–∞ –ª—è–≥—É—à–∫—É, —á—Ç–æ–±—ã –ø–æ–π–º–∞—Ç—å –º—É—à–∫—É!
        </p>
    </div>

    <!-- –ó–í–£–ö–ò -->
    <audio id="startSound" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-frog-croak-760.mp3" type="audio/mpeg">
    </audio>
    
    <audio id="catchSound" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-bite-crunch-2290.mp3" type="audio/mpeg">
    </audio>
    
    <audio id="tongueSound" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-whip-swoosh-1100.mp3" type="audio/mpeg">
    </audio>

    <script>
        // ========== –ü–ï–†–ï–ú–ï–ù–ù–´–ï ==========
        let score = 0;
        let record = localStorage.getItem('frogRecord') || 0;
        let gameActive = false;
        let flies = [];
        let soundEnabled = true;
        
        // ========== –≠–õ–ï–ú–ï–ù–¢–´ ==========
        const gameArea = document.getElementById('gameArea');
        const frog = document.getElementById('frog');
        const tongue = document.getElementById('tongue');
        const scoreElement = document.getElementById('score');
        const recordElement = document.getElementById('record');
        const flyCountElement = document.getElementById('flyCount');
        const startBtn = document.getElementById('startBtn');
        const addBtn = document.getElementById('addBtn');
        const resetBtn = document.getElementById('resetBtn');
        const soundBtn = document.getElementById('soundBtn');
        const welcomeMessage = document.getElementById('welcomeMessage');
        
        // ========== –ó–í–£–ö–ò ==========
        const startSound = document.getElementById('startSound');
        const catchSound = document.getElementById('catchSound');
        const tongueSound = document.getElementById('tongueSound');
        
        // ========== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ==========
        recordElement.textContent = record;
        
        // –ü—Ä–æ–∏–≥—Ä–∞—Ç—å –∑–≤—É–∫ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
        setTimeout(() => {
            if (soundEnabled) {
                startSound.currentTime = 0;
                startSound.play().catch(e => console.log("–ó–≤—É–∫ –Ω–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω"));
            }
        }, 500);
        
        // ========== –°–ò–°–¢–ï–ú–ê –ú–£–®–ï–ö ==========
        function createFly() {
            const fly = document.createElement('div');
            fly.className = 'fly';
            
            // –ü–æ–∑–∏—Ü–∏—è
            const x = Math.random() * (gameArea.offsetWidth - 40);
            const y = Math.random() * (gameArea.offsetHeight - 120);
            
            fly.style.left = x + 'px';
            fly.style.top = y + 'px';
            
            // –î–≤–∏–∂–µ–Ω–∏–µ
            let angle = Math.random() * Math.PI * 2;
            let speed = 1 + Math.random() * 2;
            let dx = Math.cos(angle) * speed;
            let dy = Math.sin(angle) * speed;
            
            gameArea.appendChild(fly);
            
            const flyData = {
                element: fly,
                x: x,
                y: y,
                dx: dx,
                dy: dy,
                caught: false
            };
            
            flies.push(flyData);
            updateFlyCount();
            
            // –î–≤–∏–∂–µ–Ω–∏–µ –º—É—à–∫–∏
            function moveFly() {
                if (!flyData.caught && fly.parentNode) {
                    flyData.x += flyData.dx;
                    flyData.y += flyData.dy;
                    
                    // –û—Ç—Å–∫–æ–∫ –æ—Ç –≥—Ä–∞–Ω–∏—Ü
                    if (flyData.x <= 0 || flyData.x >= gameArea.offsetWidth - 20) {
                        flyData.dx *= -1;
                    }
                    if (flyData.y <= 0 || flyData.y >= gameArea.offsetHeight - 20) {
                        flyData.dy *= -1;
                    }
                    
                    fly.style.left = flyData.x + 'px';
                    fly.style.top = flyData.y + 'px';
                    
                    requestAnimationFrame(moveFly);
                }
            }
            
            moveFly();
            
            // –ê–≤—Ç–æ—É–¥–∞–ª–µ–Ω–∏–µ
            setTimeout(() => {
                if (fly.parentNode && !flyData.caught) {
                    fly.remove();
                    flies = flies.filter(f => f !== flyData);
                    updateFlyCount();
                }
            }, 10000);
            
            return flyData;
        }
        
        function updateFlyCount() {
            flyCountElement.textContent = flies.length;
        }
        
        // ========== –ê–ù–ò–ú–ê–¶–ò–ò –ò –≠–§–§–ï–ö–¢–´ ==========
        function createHitEffect(x, y) {
            const effect = document.createElement('div');
            effect.className = 'hit-effect';
            effect.style.left = (x - 20) + 'px';
            effect.style.top = (y - 20) + 'px';
            gameArea.appendChild(effect);
            
            setTimeout(() => {
                if (effect.parentNode) {
                    effect.remove();
                }
            }, 600);
        }
        
        function createMessage(text, x, y) {
            const msg = document.createElement('div');
            msg.className = 'message';
            msg.textContent = text;
            msg.style.left = x + 'px';
            msg.style.top = y + 'px';
            gameArea.appendChild(msg);
            
            setTimeout(() => {
                if (msg.parentNode) {
                    msg.remove();
                }
            }, 1200);
        }
        
        // ========== –õ–û–í–õ–Ø –ú–£–®–ï–ö –° –ê–ù–ò–ú–ê–¶–ò–ï–ô ==========
        function catchFlies() {
            if (!gameActive) {
                createMessage('–°–Ω–∞—á–∞–ª–∞ –Ω–∞—á–Ω–∏ –∏–≥—Ä—É!', 50, 50);
                return;
            }
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –≤—ã—Å—Ç—Ä–µ–ª–∞ —è–∑—ã–∫–∞ (–î–õ–ò–ù–ù–ï–ï!)
            tongue.style.height = '120px'; // –£–≤–µ–ª–∏—á–∏–ª–∏ –¥–ª–∏–Ω—É —è–∑—ã–∫–∞
            tongueSound.currentTime = 0;
            if (soundEnabled) tongueSound.play().catch(() => {});
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –ª—è–≥—É—à–∫–∏
            frog.style.transform = 'scale(1.1)';
            setTimeout(() => {
                frog.style.transform = 'scale(1)';
            }, 200);
            
            // –ó–≤—É–∫ –∫–≤–∞–∫–∞–Ω—å—è
            startSound.currentTime = 0;
            if (soundEnabled) startSound.play().catch(() => {});
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ø–∞–¥–∞–Ω–∏—è
            const frogRect = frog.getBoundingClientRect();
            const gameRect = gameArea.getBoundingClientRect();
            const frogCenterX = frogRect.left + 70;
            const frogCenterY = frogRect.top + 50;
            
            let caughtCount = 0;
            
            flies.forEach(flyData => {
                if (flyData.caught) return;
                
                const flyRect = flyData.element.getBoundingClientRect();
                const flyCenterX = flyRect.left + 10;
                const flyCenterY = flyRect.top + 10;
                
                const distance = Math.sqrt(
                    Math.pow(flyCenterX - frogCenterX, 2) +
                    Math.pow(flyCenterY - frogCenterY, 2)
                );
                
                // –†–∞–¥–∏—É—Å —É–≤–µ–ª–∏—á–µ–Ω –±–ª–∞–≥–æ–¥–∞—Ä—è –¥–ª–∏–Ω–Ω–æ–º—É —è–∑—ã–∫—É
                if (distance < 130) {
                    caughtCount++;
                    flyData.caught = true;
                    
                    // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ–µ–¥–∞–Ω–∏—è
                    flyData.element.classList.add('eaten');
                    
                    // –≠—Ñ—Ñ–µ–∫—Ç –ø–æ–ø–∞–¥–∞–Ω–∏—è
                    createHitEffect(
                        flyRect.left - gameRect.left + 10,
                        flyRect.top - gameRect.top + 10
                    );
                    
                    // –ó–≤—É–∫ –ø–æ–µ–¥–∞–Ω–∏—è
                    catchSound.currentTime = 0;
                    if (soundEnabled) catchSound.play().catch(() => {});
                    
                    // –°–æ–æ–±—â–µ–Ω–∏–µ
                    createMessage(
                        '+1 üéØ',
                        flyRect.left - gameRect.left,
                        flyRect.top - gameRect.top
                    );
                    
                    // –£–¥–∞–ª–µ–Ω–∏–µ –º—É—à–∫–∏
                    setTimeout(() => {
                        if (flyData.element.parentNode) {
                            flyData.element.remove();
                            flies = flies.filter(f => f !== flyData);
                            updateFlyCount();
                        }
                    }, 600);
                }
            });
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—á–µ—Ç–∞
            if (caughtCount > 0) {
                score += caughtCount;
                scoreElement.textContent = score;
                
                // –†–µ–∫–æ—Ä–¥
                if (score > record) {
                    record = score;
                    recordElement.textContent = record;
                    localStorage.setItem('frogRecord', record);
                    
                    if (score % 5 === 0) {
                        createMessage(
                            `–†–µ–∫–æ—Ä–¥! ${score} üèÜ`,
                            frogRect.left - gameRect.left + 70,
                            frogRect.top - gameRect.top - 30
                        );
                    }
                }
            } else if (flies.length > 0) {
                createMessage(
                    '–ü—Ä–æ–º–∞—Ö! üëé',
                    frogRect.left - gameRect.left + 70,
                    frogRect.top - gameRect.top - 30
                );
            }
            
            // –£–±—Ä–∞—Ç—å —è–∑—ã–∫
            setTimeout(() => {
                tongue.style.height = '0';
            }, 400); // –£–≤–µ–ª–∏—á–∏–ª–∏ –≤—Ä–µ–º—è –≤–∏–¥–∏–º–æ—Å—Ç–∏ —è–∑—ã–∫–∞
        }
        
        // ========== –£–ü–†–ê–í–õ–ï–ù–ò–ï –ò–ì–†–û–ô ==========
        startBtn.onclick = function() {
            if (gameActive) return;
            
            gameActive = true;
            score = 0;
            scoreElement.textContent = score;
            
            // –ó–≤—É–∫ –Ω–∞—á–∞–ª–∞ –∏–≥—Ä—ã
            startSound.currentTime = 0;
            if (soundEnabled) startSound.play().catch(() => {});
            
            // –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –º—É—à–µ–∫
            flies.forEach(f => {
                if (f.element.parentNode) {
                    f.element.remove();
                }
            });
            flies = [];
            
            // –°–æ–∑–¥–∞–Ω–∏–µ –Ω–∞—á–∞–ª—å–Ω—ã—Ö –º—É—à–µ–∫
            for (let i = 0; i < 5; i++) {
                setTimeout(() => createFly(), i * 400);
            }
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–∏
            startBtn.disabled = true;
            startBtn.textContent = 'üéÆ –ò–ì–†–ê–ï–¢–°–Ø...';
            
            // –°–æ–æ–±—â–µ–Ω–∏–µ
            createMessage('–ò–≥—Ä–∞ –Ω–∞—á–∞–ª–∞—Å—å!', gameArea.offsetWidth/2 - 60, 50);
        };
        
        addBtn.onclick = function() {
            if (!gameActive) {
                createMessage('–°–Ω–∞—á–∞–ª–∞ –Ω–∞—á–Ω–∏ –∏–≥—Ä—É!', 50, 50);
                return;
            }
            
            for (let i = 0; i < 3; i++) {
                setTimeout(() => createFly(), i * 300);
            }
            
            createMessage('+3 –º—É—à–∫–∏ ü¶ü', gameArea.offsetWidth/2 - 40, 50);
        };
        
        resetBtn.onclick = function() {
            gameActive = false;
            score = 0;
            scoreElement.textContent = score;
            
            flies.forEach(f => {
                if (f.element.parentNode) {
                    f.element.remove();
                }
            });
            flies = [];
            updateFlyCount();
            
            startBtn.disabled = false;
            startBtn.textContent = '‚ñ∂Ô∏è –ù–ê–ß–ê–¢–¨';
        };
        
        // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–≤—É–∫–æ–º
        soundBtn.onclick = function() {
            soundEnabled = !soundEnabled;
            soundBtn.textContent = soundEnabled ? 'üîä –í–∫–ª –∑–≤—É–∫' : 'üîá –í—ã–∫–ª –∑–≤—É–∫';
            
            if (soundEnabled) {
                // –ü—Ä–æ–∏–≥—Ä–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π –∑–≤—É–∫
                startSound.currentTime = 0;
                startSound.play().catch(() => {});
            }
        };
        
        // ========== –°–û–ë–´–¢–ò–Ø ==========
        frog.onclick = catchFlies;
        
        // –î–µ–º–æ-–º—É—à–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        setTimeout(() => {
            if (!gameActive) {
                createFly();
                createMessage('–ù–∞–∂–º–∏ "–ù–ê–ß–ê–¢–¨"!', gameArea.offsetWidth/2 - 50, 50);
            }
        }, 1000);
        
        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –º—É—à–µ–∫
        setInterval(() => {
            if (gameActive && flies.length < 8 && Math.random() > 0.4) {
                createFly();
            }
        }, 3000);
        
        // ========== TELEGRAM –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø ==========
        if (typeof Telegram !== 'undefined' && Telegram.WebApp) {
            Telegram.WebApp.ready();
            Telegram.WebApp.expand();
            
            // –ö–Ω–æ–ø–∫–∞ "–ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞" –≤ Telegram
            Telegram.WebApp.MainButton.setText('üîÑ –ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞');
            Telegram.WebApp.MainButton.onClick(() => {
                resetBtn.click();
                setTimeout(() => startBtn.click(), 300);
            });
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É –ø—Ä–∏ —Ö–æ—Ä–æ—à–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ
            setInterval(() => {
                if (score > 3 && gameActive && !Telegram.WebApp.MainButton.isVisible) {
                    Telegram.WebApp.MainButton.show();
                }
            }, 2000);
        }
        
        // ========== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –ó–í–£–ö–û–í ==========
        // –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –∑–≤—É–∫–æ–≤
        window.addEventListener('touchstart', function() {
            // –≠—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è –∞–≤—Ç–æ-–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö
            startSound.volume = 0;
            startSound.play().then(() => {
                startSound.pause();
                startSound.currentTime = 0;
                startSound.volume = 1;
            }).catch(() => {});
        }, { once: true });
        
        console.log('üê∏ –ò–≥—Ä–∞ "–õ—è–≥—É—à–∫–∞-–ú—É—Ö–æ–ª–æ–≤" —É–ª—É—á—à–µ–Ω–∞!');
        console.log('üéØ –¢–µ–ø–µ—Ä—å —Å –∞–Ω–∏–º–∞—Ü–∏—è–º–∏ –∏ –∑–≤—É–∫–∞–º–∏!');
    </script>
</body>
</html>
